<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zadanie 2 - Lista 4 - 260414</title>
    <style>
        .tracker {
            border-style: solid;
            border-color: palevioletred;
            border-width: 5;
        }
    </style>
</head>
<body>
    <h1>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos quia animi explicabo atque necessitatibus voluptas cum tempora fugiat ea excepturi quod deleniti blanditiis iure sed quidem ipsam repellendus, quae eius a! Atque, enim. Consequatur modi, rem, nesciunt quos provident cumque at corrupti eum repellat omnis non obcaecati molestiae facilis placeat maiores iure iste accusantium exercitationem et. Blanditiis recusandae iste soluta neque dolorem voluptatibus eum esse autem, modi unde! Pariatur provident nemo, ratione sed fugit est consequuntur voluptatum excepturi, quia illum harum eius recusandae cumque ullam repellendus sequi ducimus asperiores iusto labore corporis unde reiciendis maxime voluptas. Saepe reiciendis molestiae, quod quia officia ipsam sequi ex laborum vitae fugiat quidem nesciunt necessitatibus voluptates incidunt, praesentium ipsum labore aspernatur reprehenderit laudantium velit voluptatem blanditiis cupiditate. Accusantium consectetur nam officia omnis eius sapiente maxime molestiae perferendis atque? Perferendis, inventore possimus culpa tempore doloribus ea, dolor mollitia explicabo atque obcaecati quos ut quisquam molestiae ab dolores ad? Optio exercitationem pariatur nulla non at perspiciatis quia ab natus nihil veritatis similique dolores saepe consequatur, assumenda ad tempore commodi praesentium excepturi minima vero. Asperiores debitis, repudiandae corporis laudantium neque earum minus, quia ea quae rem porro non quos dolorum delectus harum numquam ut nisi itaque corrupti!
    </h1>

    <canvas class="tracker" width="600" height="600"></canvas>
    
    <h1>Lorem, ipsum dolor.<canvas class="tracker" width="600" height="600"></canvas></h1>

    <script>
        var mouseX = 0;
        var mouseY = 0;
        var canvases = document.querySelectorAll(".tracker");
        
        for(let i = 0; i<canvases.length; i++) {
            startup(canvases[i]);
        }

        function startup(c) {
            c.onmousemove = mouseMove;
            c.addEventListener("mouseleave", (event) => {
                c.getContext("2d").clearRect(0, 0, c.width, c.height);
            });
        }

        function mouseMove(evt) {
            var canvas = evt.target;

            var rect = canvas.getBoundingClientRect();

            mouseX = window.event.clientX - rect.left;
            mouseY = window.event.clientY - rect.top;

            var ctx = canvas.getContext("2d");

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            ctx.beginPath();
            ctx.arc(mouseX, mouseY, 40, 0, 2* Math.PI);
            ctx.moveTo(mouseX, 0);
            ctx.lineTo(mouseX, mouseY);
            ctx.moveTo(mouseX, canvas.height);
            ctx.lineTo(mouseX, mouseY);
            ctx.moveTo(0, mouseY);
            ctx.lineTo(mouseX, mouseY);
            ctx.moveTo(canvas.width, mouseY);
            ctx.lineTo(mouseX, mouseY);
            ctx.lineWidth = 3;
            ctx.strokeStyle = "lightblue";
            ctx.stroke();
        }
    </script>

</body>
</html>